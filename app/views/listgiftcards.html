<section data-ng-init="getGiftcards()">
    <div class="">

        <!-- header section with give option, clique logo and available balance -->
        <table class = "sub-header">
            <tr>
                <td class="navCell"><a ng-href="/#/giftcards/create/{{sessionToken}}">
                    <img class = "navBowTie" ng-src="/../images/bowtie.png" alt="Give Icon">
                    Give</a></td>
                    <td class = "paddingLeft paddingRight center">
                        <img class="" ng-src="/../images/logo-localight-outline-blk.png" alt="Localight" height="45px" width="45px">
                    </td>
                    <td class = "textRightAlign navCell">${{totalValue()}}</td>
                    <tr>
        </table>

        <!-- div for our user -->
        <div class = "listName">
            <h1 class="listUserName heart inline">{{giftcards[0].toId.name}}</h1>
            <img ng-src="/../images/account-icon.png" class = "listProfileIcon" alt="Profile Icon">
        </div>
        <h3 class="listSectionHeader">Gifts received</h3>
    </div>
    <div class="list-group flatRowList">
        <a class="list-group-item flatRowListItem totalAmount" my-touchstart="goTo('/merchants')">
        <!-- Line breaks to space the list so it's easier to click -->
            <table>
                <tr>
                    <td class="tableCell glyphAlign center">
                        <img class = "dollarIcon" ng-src = "../images/dollar-circle-icon-blk.png" width= "35px" height = "35px">
                        You have ${{totalValue()}} to spend
                    </td>
                    <span class="dollarGlyphicon glyphicon-menu-right" aria-hidden="true">
                </tr>
            </table>
        </a>

        <!--spendable giftcards -->
        <h4 class = "giftSection">Recent</h4>
        <a class="list-group-item flatRowListItem" data-ng-repeat="giftcard in giftcards" data-ng-href="#/giftcards/{{giftcard._id}}">
        <!-- Line breaks to space the list so it's easier to click -->
            <table>
                <tr>
                    <td class="fromText"><img style = "margin-right: 4px" ng-src = "{{icons[giftcard.iconId]}}" width= "35px" height = "35px">{{giftcard.fromId.name}}</td>
                    <td class="textRightAlign tableCell">
                        <div class="giftlistAmount" style = "font-size: 1.25em">${{giftValue(giftcard.amount)}}</div></td>
                </tr>
            </table>
        </a>

        <!--spendable giftcards -->
        <h4 class = "giftSection" ng-hide = "" >Spent</h4>
        <a class="list-group-item flatRowListItem" data-ng-repeat="giftcard in giftcards | limitTo: -3  | filter: { amount: !isSpent }" data-ng-href="#/giftcards/{{giftcard._id}}">
        <!-- Line breaks to space the list so it's easier to click -->
            <table>
                <tr>
                    <td class="fromText"><img style = "margin-right: 4px" ng-src = "{{icons[giftcard.iconId]}}" width= "35px" height = "35px">{{giftcard.fromId.name}}</td>
                    <td class="textRightAlign tableCell">
                        <div class="giftlistAmount" style = "font-size: 1.25em">${{giftValue(giftcard.amount)}}</div></td>
                </tr>
            </table>
        </a>
    </div>
    <div class="alert alert-warning text-center" data-ng-hide="giftcards.length > 0">
    	No Giftcards yet, why don't you <a href="/#!/giftcards/create">create one</a>?
    </div>
</section>
